---
id: java-2_2_40
title: Java Agent v2.2.40
toc_max_heading_level: 2
pagination_next: release-notes/java/java-2_2_39
displayed_sidebar: releaseSidebar
---

November 6, 2024

- <Status priority='1'>New</Status> camel-netty4-2.25 tracing

  ```bash
  weaving=camel-netty4-2.25
  ```

- <Status priority='1'>New</Status> Provided a new feature to collect AWS ECS Fargate memory utilization metrics.

  - Set the memory utilization reference as the user-defined (task definition) memory limit.

- <Status priority='1'>New</Status> Supported configuration through system environment variables in some agent settings.

  - If previously set in *whatap.conf*, the existing setting values take precedence and the values of system environment variables are ignored.

    ```bash
    Agent setting             System environment variable
    whatap.server.host   <= WHATAP_SERVER_HOST
    whatap.server.port   <= WHATAP_SERVER_PORT
    whatap.okind         <= WHATAP_OKIND
    whtap.micro.enabled  <= WHATAP_MICRO_ENABLED
    ```

- <Status priority='1'>Changed</Status> Improved the sampling feature when tracing WebFlux transactions in Spring Boot 2.5 to 2.6.x.

- <Status priority='0'>Fixed</Status> Modified the AWS ECS EC2 memory utilization reference as the memory limit for user-defined task definition.

- <Status priority='0'>Fixed</Status> Removed the empty SQL collection when using the PostgreSQL.

- <Status priority='0'>Fixed</Status> Fixed the problem of collecting cases greater than the actual TPS when using the transaction sampling feature.

- <Status priority='0'>Fixed</Status> Fixed the link tracing to work properly even when there are headers for the tracing for calling the Spring Cloud Gateway in Spring Boot 2.5 to 2.6.x.

import DownloadJava from './_import_dl-java-agent.mdx';

<DownloadJava ver="2.2.40" />
