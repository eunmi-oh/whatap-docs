---
id: agent-usage
title: CPU／メモリ／ディスク使用量の収集
description: JavaエージェントがCPU、メモリ、ディスク使用量を収集する方法を案内します。JavaのJMXライブラリを基本的に活用し、必要に応じてLinuxのprocディレクトリやoshi、sigarライブラリによる性能指標の収集方法を確認できます。
keywords:
  - Java
  - アプリケーション
  - エージェント
---

JavaエージェントがCPU、メモリ、ディスク使用量を収集する方法を案内します。JavaのJMXライブラリを基本的に活用し、必要に応じてLinuxのprocディレクトリやoshi、sigarライブラリによる性能指標の収集方法を確認できます。

- **linux_proc_stat_enabled** <span class='type'>Boolean</span>

  既定値`false`

  CPU、 メモリ、ディスクの使用量をLinuxの_proc_ディレクトリから収集するかどうかを設定します。

- **oshi_enabled** <span class='type'>Boolean</span> <code class="my">Java Agent v2.1.0 or later</code>

  既定値`false`

  CPU、メモリ、ディスクの使用量を測定するとき、oshiライブラリを使用するかどうかを設定します。

- **oshi_netstat_enabled** <span class='type'>Boolean</span> <code class="my">Java Agent v2.2.31 or later</code>

  既定値`false`

  netstat指標の収集有無を設定します。Maximum Transmission Unit(MTU) 指標が追加されます。

- **sigar_enabled** <span class='type'>Boolean</span>

  既定値`false`

  sigarライブラリによるOS情報の収集を有効にします。sigarライブラリを通じて5秒単位で収集するCPU、Memory、DiskなどのOSリソースデータが含まれます。`enabled`オプションが`false`の場合、無効にします。

  :::note

  - whatap.agent.2.1.0バージョン以下では既定値は`true`です。whatap.agent.2.1.0バージョン以降では既定値は`false`です。

  - Java 1.6以下のバージョン環境では、`sigar_enabled=true`オプションを追加してsigarライブラリを有効にし、パフォーマンス指標を収集できます。

  :::
