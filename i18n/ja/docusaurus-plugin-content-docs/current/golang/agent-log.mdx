---
id: agent-log
title: エージェントログ
description: エージェントログのオプションを設定できます。
keywords:
  - Go
  - ログ
---

アプリケーションサーバーが実行されると、モニタリング情報を収集します。収集した情報は、ログファイルに保存します。

## ログの設定

**log_keep_days** <span class='type'>Day</span>

  既定値`7`

  ログファイルの保存期間を設定します。

## ログシンク(LogSink) の設定

ログデータを収集します。

### 基本設定

- **logsink_enabled** <span class='type'>Boolean</span>

  既定値`false`

  値が`true`の場合、ログデータを収集します。

- **logsink_stdout_enabled** <span class='type'>Boolean</span>

  既定値`false`

  値が`true`であれば、Standard outputログを収集します。

- **logsink_stderr_enabled** <span class='type'>Boolean</span>

  既定値`false`

  値が`true`であれば、Standard error outputログを収集します。

- **logsink_zip_enabled** <span class='type'>Boolean</span>

  既定値 `true`

  値が`true`の場合、ログデータを圧縮して送信します。既定値は、GZIPです。

### ログファイル設定

- **logsink.files** <span class='type'>String</span>

  収集するログファイルの完全なパスおよびファイル名を設定します。複数のファイルを設定するにはコンマ(,)を区切り文字として使用します。

### 例

次の例を参照して、ユーザーの環境に合わせたエージェント設定を適用します。

```ini title='whatap.conf'
logsink_enabled=true
logsink_stdout_enabled=true
logsink_stderr_enabled=true
logsink_zip_enabled=true
logsink.files=/etc/httpd/logs/error_log, /etc/httpd/logs/access_log
```

:::tip

ログファイル名に、日付形式の変数を使用できます。Python `strftime()`使用基準として適用します。 

> 例、20240101:`%Y%m%d`

```ini title="whatap.ini"
whatap.logsink.files=/etc/httpd/logs/customlog-%Y%m%d
```

この機能は、Goエージェント0.3.2バージョン以降に対応しています。 

:::

:::note

ログ設定に関するAPIガイドは[次の文書](api-guide#log)を参照してください。

:::
