---
id: apache-pulsar-introduction
title: Apache Pulsarモニタリング
description: この文書は、Apache Pulsarモニタリング商品の紹介ページです。
displayed_sidebar: featuremonitorSidebar
toc_max_heading_level: 2
keywords:
  - Apache Pulsar
  - Feature
---

import InstallFeature from '../common-items/_import_feature-install-agent.mdx';
import TR from '@site/src/components/TR';

:::note

**Featureプロジェク**<ScrollToLink anchor='feature-project' />

WhaTapは、ユーザーが希望するソフトウェアのモニタリング支援の有無を簡単に確認し、簡単にモニタリングを開始できるように、新しく**Featureプロジェク**(<code class='Features'>Features</code>)を導入しました。 Featureプロジェクは、既存のモニタリング製品を、ユーザーがモニタリングしようとするソフトウェアに合わせてリパッケージし、最適化されたモニタリングソリューションを提供します。 WhaTapのFeatureプロジェクを通じて、サービスの安定性と性能をより効果的に管理します。 

:::

{/* 실시간 데이터 처리와 대규모 데이터 분석에 최적화된 고성능 NoSQL 데이터베이스입니다. Apache Pulsarを使用すると、1秒当たり数百万件のトランザクションを処理し、データの一貫性と性能を維持しながら、大規模なデータタスクを効率的に実行できます。 従って、Apache Pulsarの性能と状態をモニタリングすることは、システムの安定性と最適化のために非常に重要です。 */}

Apache Pulsarは、大規模なリアルタイムデータを効率的に処理できるように設計された分散型メッセージングおよびストリーミングプラットフォームです。 高い拡張性と内蔵されたマルチテナンシー機能を提供し、メッセージの地理的な複製および持続性を通じて信頼性と柔軟性を保障します。 Apache Pulsarの複雑な運用環境で性能と安定性を維持するために、モニタリングが重要です。 

WhaTapは、**Featureプロジェクト**方法で***Apache Pulsar***モニタリングを提供します。 WhaTapを通じてApache Pulsarクラスターの性能と状態をリアルタイムで追跡し、メッセージ遅延、処理量低下、リソース過負荷などの問題を早期に感知して解決できます。 

- **メトリクスモニタリング**:  各ノードのCPU、メモリ使用量など、様々なシステムのメトリクスやメッセージ処理量、遅延時間、キューサイズなど、重要な運用メトリクスを提供します。 

- **カスタマイズされたダッシュボード**: カスタマイズされたダッシュボードにより、メトリクスを効率的に照会できます。

- **通知設定**: 設定した条件を検知時、リアルタイムで通知を送信してユーザーが問題に迅速に対応できます。

WhaTap***Apache Pulsar***モニタリングを通じてApache Pulsarクラスターの複雑な運用環境を効果的に管理できます。 

## インストール

WhaTapのApache Pulsarモニタリングサービス利用のための基本的なインストール方法をご案内します。 

WhaTapモニタリングサービスを使用するには、[会員登録](https://www.whatap.io/ja/signup/)後、プロジェクトを作成し、ターゲットサーバーにエージェントをインストールする必要があります。 会員登録に関する詳細は、[次の文書](../account/account-manage)を参照してください。 

:::note 

**サポート環境**<ScrollToLink anchor='apache-pulsar-supported-env' />

WhaTapのApache Pulsarモニタリングエージェントをインストールする前に、サポート環境を確認します。 

- **Apache Pulsar**: Apache Pulsar 3.3.x以降 

- **Ubuntu**: Ubuntu 12.04以降

- **OS**: Red Hat 6 or equivalent(CentOS, Rocky Linux, Amazon Linux)

- **OSアーキテクチャ**: Amd64/X86_64, Arm64/Aarch64

:::

### Featureプロジェクトを作成する

import CreateFeature from "../common-items/_import_feature-project-create.mdx";

<CreateFeature />

### Apache Pulsarエージェントのインストール

<InstallFeature name='Apache Pulsarエージェントインストール' />

## メインメニュー

### ダッシューボード

ホーム画面 > **Featureプロジェクト**(<code class='Features'>Features</code>)選択 > ***Apache Pulsar*** > ***Apache Pulsarダッシューボード***

WhaTapのApache Pulsarモニタリングは、Apache Pulsarクラスターの性能と状態など、全体の現状を一目で把握できるように、様々なメトリクスをリアルタイムでモニタリングします。 各メトリクスを定期的に確認して、クラスターが最適な状態を維持するように管理できます。 

WhaTapが提供する***Apache Pulsarダッシュボード***は、次の3つのプリセットで構成されています。

- ***Overview*** 

  クラスターの全体的な性能と状態を一目で把握できるように、主要なメトリクスを総合的に視覚化したダッシュボードです。 クラスターオペレータがリアルタイムでシステムの状態をモニタリングし、性能の性能を迅速に検出するのに役立ちます。

  <details>
  <summary>ダッシュボードのメトリクス案内</summary>

  ##### ダッシュボード上段の要約情報

  - ***CPU***: クラスターで使用中のCPU コア数を表示します。

  - ***Memory***: クラスターで使用されている総メモリ容量と現在のメモリ使用量を示します。

  - ***ZooKeeper***: 現在運用中のZooKeeperインスタンスの数と可用ステータスを表示します。

  - ***Broker***: 有効なブローカーの数とステータスを表示します。

  - ***Bookies***: Apache Pulsarで使用するBookKeeperノード(Bookies)の数とステータスを示します。

  - ***Broker Storage Size***: ブローカーに保存されているデータの総容量を示します。

  - ***Backlog***: 未処理のメッセージの合計サイズを表示することで、メッセージ処理の遅延ステータスを把握できます。

  ##### 性能グラフ

  - ***Messaging Storage***: 時間に応じたメッセージストレージの使用量を表示して、ストレージ容量の変動性を追跡します。

  - ***Message Rate(msg/s)***: 1秒当たりに処理されるメッセージの数をグラフ化し、クラスターのメッセージ処理速度をモニタリングします。

  - ***Messaging Backlog***: 時間の経過とともに処理されず待機中のメッセージの数を視覚化し、メッセージの処理遅延を迅速に把握できます。

  - ***Throughput(bytes/s)***: 1秒当たりに処理されたデータの量を示し、クラスターのデータ処理能力を評価します。

  - ***Replication Backlog***: 他のデータセンターに複製されず待機しているメッセージの数を示します。

  - ***Replication Throughput***: データの複製プロセスで1秒当たりに処理されるデータ量を示します。

  - ***Replication Rate***: 複製メッセージの送信速度を示します。

  - ***Subscription Unacked Messages***: 購読されたメッセージのうち、まだ確認されていない(Unacked) メッセージの数を示します。

  ##### 上位10項目のバックログ

  - ***Top 10 topics backlog***: バックログが最も多い上位10個のトピックを一覧表示することで、メッセージ遅延の原因を分析できます。

  - ***Top 10 Replication Backlog***: 複製バックログが最も多い上位10項目を一覧表示することで、複製遅延の問題を把握できます。

  </details>

- ***Overview II***

  クラスター内のメッセージ生産者と消費者活動を重点的にモニタリングするダッシュボードです。 ノードごとのリソース使用量と主要トピックの状態を詳細に管理できるように設計されています。 システムリソースの最適化とメッセージ処理フローの管理に役立ちます。

  <details>
  <summary>ダッシュボードのメトリクス案内</summary>

  - ***Consumers Count***: 現在クラスターで有効になっているコンシューマー数をリアルタイムで表示し、メッセージ消費活動をモニタリングし、コンシューマーの数の変動がシステムに与える影響を分析できます。

  - ***Producers Count***: 現在クラスターで活性化されたプロデューサーの数をリアルタイムで表示し、メッセージの生産活動をモニタリングし、プロデューサー数の変化がメッセージの生産速度に与える影響を分析できます。

  - ***Messages In***: クラスターに引き込まれるメッセージの数を時間とともに表示し、メッセージの引き込み速度をモニタリングしてシステムの負荷を予測し、トラフィックの変動を把握するのに役立ちます。

  - ***Subscriptions Count***: クラスターでな有効化された購読数をリアルタイムで表示し、購読数の増減がシステムメッセージの処理に与える影響を分析する時に役立ちます。

  - ***Offloaded Size***: クラスターでディスクにオフロードされたデータのサイズを示し、データの保存効率を評価し、長期的な保存スペースの管理に活用できます。

  - ***Bytes In***: クラスターに引き込まれるデータのサイズをリアルタイムで表示し、データの引き込み速度をモニタリングして、システムの性能とネットワーク負荷を管理するのに役立ちます。

  - ***Node CPU***(Node CPU使用率): クラスター内の各ノードのCPU使用率をグラフで表示し、ノードごとの性能をモニタリングし、リソースの分配を最適化できます。

  - ***Node Memory Used %***(Node Memory使用率): クラスター内の各ノードのメモリ使用率をリアルタイムで表示し、メモリ使用状況をモニタリングして性能の低下を予防できます。

  - ***Top 10 Topics Unacked***: まだ確認されていない(Unacked) メッセージの多い上位10個のトピックを一覧表示し、特定のトピックでメッセージの確認遅延の原因を把握して問題を解決するのに役立ちます。

  - ***Top 10 Topics Storage***: ストレージ容量を最も多く占めている上位10個のトピックを一覧表示し、特定のトピックが占めるストレージ容量を分析して、効率的なデータ管理をサポートします。

  </details>

- ***Backlog***

  クラスター内のバックログ状態をリアルタイムで追跡するダッシュボードです。 メッセージ処理の遅延が発生できるトピックを迅速に識別できるようにサポートします。 問題が発生した場合、迅速に対応し、性能最適化するための措置を取るのに役立ちます。

  <details>
  <summary>ダッシュボードのメトリクス案内</summary>

  - ***Pulsar Backlog***: 特定のトピックで処理されずに待機しているメッセージの数を時間によって視覚化します。 システムの処理能力を超えた時に発生するバックログ状態をリアルタイムでモニタリングし、問題を早期に発見して対応できます。

  - ***Top 20 Backlog Topics***: バックログが最も多い上位20個のトピックを一覧表示します。 各トピックで処理されずに待機しているメッセージ数を表示することで、問題のトピックを迅速に把握し、リソースに集中できます。

  - ***Recently***(최근 메시지 수): 各トピックの横の***Recently***カラムは、最近発生したバックログメッセージの数を示します。 最近のバックログの状態を明確に理解し、即時の対応が必要なトピックを識別するのに役立ちます。

  </details>

:::note
リアルタイムでデータを更新し、オペレーターが即座に状況を把握できるようにサポートし、クラスターの運用中に発生する変動性を迅速に反映します。 これにより、オペレーターは問題をリアルタイムでモニタリングし、即時の措置できます。
:::

{/* #### 클러스터 상태 개요

- **CPU、Memory、Storage使用量**: クラスター全体のリソース使用状況を表示します。

- **ZooKeeper、Broker、Bookie状態**: ノード数と可用性を示します。

#### メッセージングメトリクス

- **Messaging Storage**: メッセージングに使用されたすべてのストレージを視覚化します。

- **Message Rate**: 1秒当たりのメッセージ速度を表示します。

- **Messaging Backlog**: 未処理のメッセージ数を追跡します。

- **スループット**: 1秒当たりのバイトでスループットを表示します。

#### 主なトピックとバックログ

- **上位10トピックのバックログ**: バックログが、最も多いトピックを一覧表示し、ボトルネックを識別します。

- **上位10複製バックログ**: 複製プロセスをモニタリングするための複製バックログを表示します。

#### ノード別のメトリクス

- **ノードCPUおよびメモリ使用量**: クラスター内の個別ノードの使用統計を提供します。

- **オフロードサイズ**: クラスターでオフロードされたデータ量を追跡します。

:::note 

**主なモニタリングメトリクス**

- **CPU使用量**

  CPU使用率を追跡して過負荷を防止します。

- **メモリ使用量**

  メモリの使用をモニタリングして、メモリ不足のエラーを防止します。

- **ストレージ使用量**

  十分なストレージがあるか確認します。

- **メッセージの速度と処理量**

  高速は、性能ボトルネックの可能性があります。

- **バックログメトリクス**

  増加するバックログは、消費アプリケーションに問題があることを示す可能性があります。

:::

### アラート通知

ホーム画面 > **Featureプロジェクト**(<code class='Features'>Features</code>)選択 > ***アラート通知*** > ***イベント設定***

クラスター状態を維持するために、次のようなシナリオへの通知を設定します

- **CPU使用量**: CPU使用量が80%を超えた時の通知。

- **メモリ使用量**: メモリ使用量が75%を超えた時の通知。

- **ストレージ使用量**: ストレージ使用量が85%を超えた時の通知。

- **メッセージバックログ**: バックログが一定のしきい値(例: 10,000メッセージ)を超える時の通知。

- **ZooKeeper、ブローカー、Bookie状態**: ノードがダウンした時の通知。 */}
